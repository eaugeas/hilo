id: partition
config:
  inputs:
    - channel:
        id: examples
        url: sequence/normalize/outputs/examples
    - channel:
        id: schema
        url: sequence/normalize/outputs/schema
    - channel:
        id: statistics
        url: sequence/normalize/outputs/statistics
  outputs:
    - channel:
        id: partitions
        url: stages/1/outputs/partitions
  steps:
    - stage:
        id: '0'
        name: SingleDimensionGen
        config:
          single_dimension_gen:
            params:
              split_names:
                - 'train'
            inputs:
              examples: inputs/examples
              statistics: inputs/statistics
              schema: inputs/schema
            outputs:
              datasets: datasets
    - stage:
        id: '1'
        name: PartitionGen
        config:
          partition_gen:
            params:
              split_names:
                - 'train'
            inputs:
              examples: inputs/examples
              datasets: stages/0/outputs/datasets
            outputs:
              partitions: partitions